{"ast":null,"code":"import{useEffect,useState}from'react';import io from'socket.io-client';// Socket configuration\nconst SOCKET_URL=process.env.NODE_ENV==='production'?'https://your-backend-domain.railway.app':'http://localhost:5010';const SOCKET_OPTIONS={transports:['websocket','polling'],timeout:20000,forceNew:true,reconnection:true,reconnectionDelay:1000,reconnectionAttempts:5,maxReconnectionAttempts:5};export const useSocket=()=>{const[socket,setSocket]=useState(null);useEffect(()=>{// Create socket connection\nconst newSocket=io(SOCKET_URL,SOCKET_OPTIONS);// Connection event handlers\nnewSocket.on('connect',()=>{console.log('âœ… Connected to server:',newSocket.id);});newSocket.on('disconnect',reason=>{console.log('âŒ Disconnected from server:',reason);});newSocket.on('connect_error',error=>{console.error('ðŸ”¥ Connection error:',error);});newSocket.on('reconnect',attemptNumber=>{console.log('ðŸ”„ Reconnected after',attemptNumber,'attempts');});newSocket.on('reconnect_error',error=>{console.error('ðŸ”¥ Reconnection error:',error);});newSocket.on('reconnect_failed',()=>{console.error('ðŸ’€ Failed to reconnect to server');});setSocket(newSocket);// Cleanup on unmount\nreturn()=>{console.log('ðŸ§¹ Cleaning up socket connection');newSocket.close();};},[]);return socket;};","map":{"version":3,"names":["useEffect","useState","io","SOCKET_URL","process","env","NODE_ENV","SOCKET_OPTIONS","transports","timeout","forceNew","reconnection","reconnectionDelay","reconnectionAttempts","maxReconnectionAttempts","useSocket","socket","setSocket","newSocket","on","console","log","id","reason","error","attemptNumber","close"],"sources":["/Users/jitmisra/Desktop/ralwayhackathon/frontend/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\n\n// Socket configuration\nconst SOCKET_URL = process.env.NODE_ENV === 'production' \n  ? 'https://your-backend-domain.railway.app' \n  : 'http://localhost:5010';\n\nconst SOCKET_OPTIONS = {\n  transports: ['websocket', 'polling'],\n  timeout: 20000,\n  forceNew: true,\n  reconnection: true,\n  reconnectionDelay: 1000,\n  reconnectionAttempts: 5,\n  maxReconnectionAttempts: 5\n};\n\nexport const useSocket = () => {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    // Create socket connection\n    const newSocket = io(SOCKET_URL, SOCKET_OPTIONS);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('âœ… Connected to server:', newSocket.id);\n    });\n\n    newSocket.on('disconnect', (reason) => {\n      console.log('âŒ Disconnected from server:', reason);\n    });\n\n    newSocket.on('connect_error', (error) => {\n      console.error('ðŸ”¥ Connection error:', error);\n    });\n\n    newSocket.on('reconnect', (attemptNumber) => {\n      console.log('ðŸ”„ Reconnected after', attemptNumber, 'attempts');\n    });\n\n    newSocket.on('reconnect_error', (error) => {\n      console.error('ðŸ”¥ Reconnection error:', error);\n    });\n\n    newSocket.on('reconnect_failed', () => {\n      console.error('ðŸ’€ Failed to reconnect to server');\n    });\n\n    setSocket(newSocket);\n\n    // Cleanup on unmount\n    return () => {\n      console.log('ðŸ§¹ Cleaning up socket connection');\n      newSocket.close();\n    };\n  }, []);\n\n  return socket;\n};"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAEjC;AACA,KAAM,CAAAC,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CACpD,yCAAyC,CACzC,uBAAuB,CAE3B,KAAM,CAAAC,cAAc,CAAG,CACrBC,UAAU,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACpCC,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE,IAAI,CACdC,YAAY,CAAE,IAAI,CAClBC,iBAAiB,CAAE,IAAI,CACvBC,oBAAoB,CAAE,CAAC,CACvBC,uBAAuB,CAAE,CAC3B,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAkB,SAAS,CAAGhB,EAAE,CAACC,UAAU,CAAEI,cAAc,CAAC,CAEhD;AACAW,SAAS,CAACC,EAAE,CAAC,SAAS,CAAE,IAAM,CAC5BC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEH,SAAS,CAACI,EAAE,CAAC,CACrD,CAAC,CAAC,CAEFJ,SAAS,CAACC,EAAE,CAAC,YAAY,CAAGI,MAAM,EAAK,CACrCH,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEE,MAAM,CAAC,CACpD,CAAC,CAAC,CAEFL,SAAS,CAACC,EAAE,CAAC,eAAe,CAAGK,KAAK,EAAK,CACvCJ,OAAO,CAACI,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CAEFN,SAAS,CAACC,EAAE,CAAC,WAAW,CAAGM,aAAa,EAAK,CAC3CL,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEI,aAAa,CAAE,UAAU,CAAC,CAChE,CAAC,CAAC,CAEFP,SAAS,CAACC,EAAE,CAAC,iBAAiB,CAAGK,KAAK,EAAK,CACzCJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,CAAC,CAEFN,SAAS,CAACC,EAAE,CAAC,kBAAkB,CAAE,IAAM,CACrCC,OAAO,CAACI,KAAK,CAAC,kCAAkC,CAAC,CACnD,CAAC,CAAC,CAEFP,SAAS,CAACC,SAAS,CAAC,CAEpB;AACA,MAAO,IAAM,CACXE,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CAC/CH,SAAS,CAACQ,KAAK,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAV,MAAM,CACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}