{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\n\n// Socket configuration\nconst SOCKET_URL = process.env.NODE_ENV === 'production' ? 'https://your-backend-domain.railway.app' : 'http://localhost:5010';\nconst SOCKET_OPTIONS = {\n  transports: ['websocket', 'polling'],\n  timeout: 20000,\n  forceNew: true,\n  reconnection: true,\n  reconnectionDelay: 1000,\n  reconnectionAttempts: 5,\n  maxReconnectionAttempts: 5\n};\nexport const useSocket = () => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    // Create socket connection\n    const newSocket = io(SOCKET_URL, SOCKET_OPTIONS);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('✅ Connected to server:', newSocket.id);\n    });\n    newSocket.on('disconnect', reason => {\n      console.log('❌ Disconnected from server:', reason);\n    });\n    newSocket.on('connect_error', error => {\n      console.error('🔥 Connection error:', error);\n    });\n    newSocket.on('reconnect', attemptNumber => {\n      console.log('🔄 Reconnected after', attemptNumber, 'attempts');\n    });\n    newSocket.on('reconnect_error', error => {\n      console.error('🔥 Reconnection error:', error);\n    });\n    newSocket.on('reconnect_failed', () => {\n      console.error('💀 Failed to reconnect to server');\n    });\n    setSocket(newSocket);\n\n    // Cleanup on unmount\n    return () => {\n      console.log('🧹 Cleaning up socket connection');\n      newSocket.close();\n    };\n  }, []);\n  return socket;\n};\n_s(useSocket, \"NvwYO9vJOwIMt5STdlMKfWhuxZw=\");","map":{"version":3,"names":["useEffect","useState","io","SOCKET_URL","process","env","NODE_ENV","SOCKET_OPTIONS","transports","timeout","forceNew","reconnection","reconnectionDelay","reconnectionAttempts","maxReconnectionAttempts","useSocket","_s","socket","setSocket","newSocket","on","console","log","id","reason","error","attemptNumber","close"],"sources":["/Users/jitmisra/Desktop/ralwayhackathon/frontend/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\n\n// Socket configuration\nconst SOCKET_URL = process.env.NODE_ENV === 'production' \n  ? 'https://your-backend-domain.railway.app' \n  : 'http://localhost:5010';\n\nconst SOCKET_OPTIONS = {\n  transports: ['websocket', 'polling'],\n  timeout: 20000,\n  forceNew: true,\n  reconnection: true,\n  reconnectionDelay: 1000,\n  reconnectionAttempts: 5,\n  maxReconnectionAttempts: 5\n};\n\nexport const useSocket = () => {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    // Create socket connection\n    const newSocket = io(SOCKET_URL, SOCKET_OPTIONS);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('✅ Connected to server:', newSocket.id);\n    });\n\n    newSocket.on('disconnect', (reason) => {\n      console.log('❌ Disconnected from server:', reason);\n    });\n\n    newSocket.on('connect_error', (error) => {\n      console.error('🔥 Connection error:', error);\n    });\n\n    newSocket.on('reconnect', (attemptNumber) => {\n      console.log('🔄 Reconnected after', attemptNumber, 'attempts');\n    });\n\n    newSocket.on('reconnect_error', (error) => {\n      console.error('🔥 Reconnection error:', error);\n    });\n\n    newSocket.on('reconnect_failed', () => {\n      console.error('💀 Failed to reconnect to server');\n    });\n\n    setSocket(newSocket);\n\n    // Cleanup on unmount\n    return () => {\n      console.log('🧹 Cleaning up socket connection');\n      newSocket.close();\n    };\n  }, []);\n\n  return socket;\n};"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,EAAE,MAAM,kBAAkB;;AAEjC;AACA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACpD,yCAAyC,GACzC,uBAAuB;AAE3B,MAAMC,cAAc,GAAG;EACrBC,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;EACpCC,OAAO,EAAE,KAAK;EACdC,QAAQ,EAAE,IAAI;EACdC,YAAY,EAAE,IAAI;EAClBC,iBAAiB,EAAE,IAAI;EACvBC,oBAAoB,EAAE,CAAC;EACvBC,uBAAuB,EAAE;AAC3B,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd;IACA,MAAMmB,SAAS,GAAGjB,EAAE,CAACC,UAAU,EAAEI,cAAc,CAAC;;IAEhD;IACAY,SAAS,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEH,SAAS,CAACI,EAAE,CAAC;IACrD,CAAC,CAAC;IAEFJ,SAAS,CAACC,EAAE,CAAC,YAAY,EAAGI,MAAM,IAAK;MACrCH,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEE,MAAM,CAAC;IACpD,CAAC,CAAC;IAEFL,SAAS,CAACC,EAAE,CAAC,eAAe,EAAGK,KAAK,IAAK;MACvCJ,OAAO,CAACI,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;IAEFN,SAAS,CAACC,EAAE,CAAC,WAAW,EAAGM,aAAa,IAAK;MAC3CL,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEI,aAAa,EAAE,UAAU,CAAC;IAChE,CAAC,CAAC;IAEFP,SAAS,CAACC,EAAE,CAAC,iBAAiB,EAAGK,KAAK,IAAK;MACzCJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;IAEFN,SAAS,CAACC,EAAE,CAAC,kBAAkB,EAAE,MAAM;MACrCC,OAAO,CAACI,KAAK,CAAC,kCAAkC,CAAC;IACnD,CAAC,CAAC;IAEFP,SAAS,CAACC,SAAS,CAAC;;IAEpB;IACA,OAAO,MAAM;MACXE,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/CH,SAAS,CAACQ,KAAK,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOV,MAAM;AACf,CAAC;AAACD,EAAA,CA1CWD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}