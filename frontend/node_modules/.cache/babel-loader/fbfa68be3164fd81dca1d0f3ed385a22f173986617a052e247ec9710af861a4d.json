{"ast":null,"code":"import React,{useRef,useEffect,useState,useCallback}from'react';import{exportCanvasAsPNG,generateTimestampedFilename}from'../utils/export';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Whiteboard=_ref=>{let{socket,roomId,initialData,showToast}=_ref;const canvasRef=useRef(null);const[isDrawing,setIsDrawing]=useState(false);const[currentTool,setCurrentTool]=useState('pen');const[currentColor,setCurrentColor]=useState('#000000');const[currentSize,setCurrentSize]=useState(3);const[drawingData,setDrawingData]=useState([]);// Drawing state\nconst lastPointRef=useRef(null);// Colors palette\nconst colors=['#000000','#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FFA500','#800080','#FFC0CB','#A52A2A','#808080'];const drawLine=useCallback((x0,y0,x1,y1,color,size)=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');ctx.beginPath();ctx.moveTo(x0,y0);ctx.lineTo(x1,y1);ctx.strokeStyle=color;ctx.lineWidth=size;ctx.lineCap='round';ctx.stroke();},[]);const redrawCanvas=useCallback(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');ctx.clearRect(0,0,canvas.width,canvas.height);// Redraw all stored drawing data\ndrawingData.forEach(data=>{if(data.type==='draw'){drawLine(data.x0,data.y0,data.x1,data.y1,data.color,data.size);}});},[drawingData,drawLine]);// Initialize canvas\nuseEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;// Set canvas size\nconst resizeCanvas=()=>{const container=canvas.parentElement;canvas.width=container.clientWidth;canvas.height=container.clientHeight;// Redraw existing content\nredrawCanvas();};resizeCanvas();window.addEventListener('resize',resizeCanvas);return()=>{window.removeEventListener('resize',resizeCanvas);};},[redrawCanvas]);// Load initial data\nuseEffect(()=>{if(initialData&&initialData.length>0){setDrawingData(initialData);}},[initialData]);// Socket event listeners\nuseEffect(()=>{if(!socket)return;const handleDrawing=data=>{if(data.type==='draw'){drawLine(data.x0,data.y0,data.x1,data.y1,data.color,data.size);setDrawingData(prev=>[...prev,data]);}else if(data.type==='clear'){clearCanvas();setDrawingData([]);}};const handleClearWhiteboard=()=>{clearCanvas();setDrawingData([]);};socket.on('drawing',handleDrawing);socket.on('clear-whiteboard',handleClearWhiteboard);return()=>{socket.off('drawing',handleDrawing);socket.off('clear-whiteboard',handleClearWhiteboard);};},[socket]);const clearCanvas=()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');ctx.clearRect(0,0,canvas.width,canvas.height);};const getMousePos=e=>{const canvas=canvasRef.current;const rect=canvas.getBoundingClientRect();return{x:e.clientX-rect.left,y:e.clientY-rect.top};};const getTouchPos=e=>{const canvas=canvasRef.current;const rect=canvas.getBoundingClientRect();return{x:e.touches[0].clientX-rect.left,y:e.touches[0].clientY-rect.top};};// Mouse events\nconst handleMouseDown=e=>{if(currentTool!=='pen')return;setIsDrawing(true);const pos=getMousePos(e);lastPointRef.current=pos;};const handleMouseMove=e=>{if(!isDrawing||currentTool!=='pen')return;const pos=getMousePos(e);const lastPoint=lastPointRef.current;if(lastPoint){// Draw locally\ndrawLine(lastPoint.x,lastPoint.y,pos.x,pos.y,currentColor,currentSize);// Create drawing data\nconst drawData={type:'draw',x0:lastPoint.x,y0:lastPoint.y,x1:pos.x,y1:pos.y,color:currentColor,size:currentSize};// Emit to other users\nsocket.emit('drawing',drawData);// Store locally\nsetDrawingData(prev=>[...prev,drawData]);}lastPointRef.current=pos;};const handleMouseUp=()=>{setIsDrawing(false);lastPointRef.current=null;};// Touch events for mobile\nconst handleTouchStart=e=>{e.preventDefault();if(currentTool!=='pen')return;setIsDrawing(true);const pos=getTouchPos(e);lastPointRef.current=pos;};const handleTouchMove=e=>{e.preventDefault();if(!isDrawing||currentTool!=='pen')return;const pos=getTouchPos(e);const lastPoint=lastPointRef.current;if(lastPoint){// Draw locally\ndrawLine(lastPoint.x,lastPoint.y,pos.x,pos.y,currentColor,currentSize);// Create drawing data\nconst drawData={type:'draw',x0:lastPoint.x,y0:lastPoint.y,x1:pos.x,y1:pos.y,color:currentColor,size:currentSize};// Emit to other users\nsocket.emit('drawing',drawData);// Store locally\nsetDrawingData(prev=>[...prev,drawData]);}lastPointRef.current=pos;};const handleTouchEnd=e=>{e.preventDefault();setIsDrawing(false);lastPointRef.current=null;};const handleClear=()=>{if(window.confirm('Are you sure you want to clear the whiteboard?')){clearCanvas();setDrawingData([]);socket.emit('clear-whiteboard');showToast('Whiteboard cleared','info');}};const handleExport=()=>{const canvas=canvasRef.current;if(!canvas)return;const filename=generateTimestampedFilename(\"whiteboard_\".concat(roomId),'png');const success=exportCanvasAsPNG(canvas,filename);if(success){showToast('Whiteboard exported successfully!','success');}else{showToast('Failed to export whiteboard','error');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentTool('pen'),className:\"p-2 rounded-lg transition-colors \".concat(currentTool==='pen'?'bg-primary-600 text-white':'bg-white text-gray-600 hover:bg-gray-100'),title:\"Pen Tool\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[colors.map(color=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentColor(color),className:\"w-8 h-8 rounded-full border-2 transition-all \".concat(currentColor===color?'border-gray-800 scale-110':'border-gray-300 hover:scale-105'),style:{backgroundColor:color},title:\"Color: \".concat(color)},color)),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:currentColor,onChange:e=>setCurrentColor(e.target.value),className:\"w-8 h-8 rounded-full border-2 border-gray-300 cursor-pointer\",title:\"Custom Color\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Size:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"20\",value:currentSize,onChange:e=>setCurrentSize(parseInt(e.target.value)),className:\"w-20\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 w-6\",children:currentSize})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,className:\"btn-secondary flex items-center\",title:\"Export as PNG\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),\"Export\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleClear,className:\"btn-danger flex items-center\",title:\"Clear whiteboard\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})}),\"Clear\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden canvas-container\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"w-full h-full cursor-crosshair\",onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gray-50 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 text-center\",children:\"Click and drag to draw \\u2022 Use toolbar to change colors and brush size \\u2022 Changes are saved automatically\"})})]});};export default Whiteboard;","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","exportCanvasAsPNG","generateTimestampedFilename","jsx","_jsx","jsxs","_jsxs","Whiteboard","_ref","socket","roomId","initialData","showToast","canvasRef","isDrawing","setIsDrawing","currentTool","setCurrentTool","currentColor","setCurrentColor","currentSize","setCurrentSize","drawingData","setDrawingData","lastPointRef","colors","drawLine","x0","y0","x1","y1","color","size","canvas","current","ctx","getContext","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","stroke","redrawCanvas","clearRect","width","height","forEach","data","type","resizeCanvas","container","parentElement","clientWidth","clientHeight","window","addEventListener","removeEventListener","length","handleDrawing","prev","clearCanvas","handleClearWhiteboard","on","off","getMousePos","e","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","getTouchPos","touches","handleMouseDown","pos","handleMouseMove","lastPoint","drawData","emit","handleMouseUp","handleTouchStart","preventDefault","handleTouchMove","handleTouchEnd","handleClear","confirm","handleExport","filename","concat","success","className","children","onClick","title","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","style","backgroundColor","value","onChange","target","min","max","parseInt","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd"],"sources":["/Users/jitmisra/Desktop/ralwayhackathon/frontend/src/components/Whiteboard.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { exportCanvasAsPNG, generateTimestampedFilename } from '../utils/export';\n\nconst Whiteboard = ({ socket, roomId, initialData, showToast }) => {\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentTool, setCurrentTool] = useState('pen');\n  const [currentColor, setCurrentColor] = useState('#000000');\n  const [currentSize, setCurrentSize] = useState(3);\n  const [drawingData, setDrawingData] = useState([]);\n\n  // Drawing state\n  const lastPointRef = useRef(null);\n\n  // Colors palette\n  const colors = [\n    '#000000', '#FF0000', '#00FF00', '#0000FF',\n    '#FFFF00', '#FF00FF', '#00FFFF', '#FFA500',\n    '#800080', '#FFC0CB', '#A52A2A', '#808080'\n  ];\n\n  const drawLine = useCallback((x0, y0, x1, y1, color, size) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(x0, y0);\n    ctx.lineTo(x1, y1);\n    ctx.strokeStyle = color;\n    ctx.lineWidth = size;\n    ctx.lineCap = 'round';\n    ctx.stroke();\n  }, []);\n\n  const redrawCanvas = useCallback(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Redraw all stored drawing data\n    drawingData.forEach(data => {\n      if (data.type === 'draw') {\n        drawLine(data.x0, data.y0, data.x1, data.y1, data.color, data.size);\n      }\n    });\n  }, [drawingData, drawLine]);\n\n  // Initialize canvas\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Set canvas size\n    const resizeCanvas = () => {\n      const container = canvas.parentElement;\n      canvas.width = container.clientWidth;\n      canvas.height = container.clientHeight;\n\n      // Redraw existing content\n      redrawCanvas();\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n    };\n  }, [redrawCanvas]);\n\n  // Load initial data\n  useEffect(() => {\n    if (initialData && initialData.length > 0) {\n      setDrawingData(initialData);\n    }\n  }, [initialData]);\n\n  // Socket event listeners\n  useEffect(() => {\n    if (!socket) return;\n\n    const handleDrawing = (data) => {\n      if (data.type === 'draw') {\n        drawLine(data.x0, data.y0, data.x1, data.y1, data.color, data.size);\n        setDrawingData(prev => [...prev, data]);\n      } else if (data.type === 'clear') {\n        clearCanvas();\n        setDrawingData([]);\n      }\n    };\n\n    const handleClearWhiteboard = () => {\n      clearCanvas();\n      setDrawingData([]);\n    };\n\n    socket.on('drawing', handleDrawing);\n    socket.on('clear-whiteboard', handleClearWhiteboard);\n\n    return () => {\n      socket.off('drawing', handleDrawing);\n      socket.off('clear-whiteboard', handleClearWhiteboard);\n    };\n  }, [socket]);\n\n\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  const getMousePos = (e) => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    };\n  };\n\n  const getTouchPos = (e) => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    return {\n      x: e.touches[0].clientX - rect.left,\n      y: e.touches[0].clientY - rect.top\n    };\n  };\n\n  // Mouse events\n  const handleMouseDown = (e) => {\n    if (currentTool !== 'pen') return;\n\n    setIsDrawing(true);\n    const pos = getMousePos(e);\n    lastPointRef.current = pos;\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDrawing || currentTool !== 'pen') return;\n\n    const pos = getMousePos(e);\n    const lastPoint = lastPointRef.current;\n\n    if (lastPoint) {\n      // Draw locally\n      drawLine(lastPoint.x, lastPoint.y, pos.x, pos.y, currentColor, currentSize);\n\n      // Create drawing data\n      const drawData = {\n        type: 'draw',\n        x0: lastPoint.x,\n        y0: lastPoint.y,\n        x1: pos.x,\n        y1: pos.y,\n        color: currentColor,\n        size: currentSize\n      };\n\n      // Emit to other users\n      socket.emit('drawing', drawData);\n\n      // Store locally\n      setDrawingData(prev => [...prev, drawData]);\n    }\n\n    lastPointRef.current = pos;\n  };\n\n  const handleMouseUp = () => {\n    setIsDrawing(false);\n    lastPointRef.current = null;\n  };\n\n  // Touch events for mobile\n  const handleTouchStart = (e) => {\n    e.preventDefault();\n    if (currentTool !== 'pen') return;\n\n    setIsDrawing(true);\n    const pos = getTouchPos(e);\n    lastPointRef.current = pos;\n  };\n\n  const handleTouchMove = (e) => {\n    e.preventDefault();\n    if (!isDrawing || currentTool !== 'pen') return;\n\n    const pos = getTouchPos(e);\n    const lastPoint = lastPointRef.current;\n\n    if (lastPoint) {\n      // Draw locally\n      drawLine(lastPoint.x, lastPoint.y, pos.x, pos.y, currentColor, currentSize);\n\n      // Create drawing data\n      const drawData = {\n        type: 'draw',\n        x0: lastPoint.x,\n        y0: lastPoint.y,\n        x1: pos.x,\n        y1: pos.y,\n        color: currentColor,\n        size: currentSize\n      };\n\n      // Emit to other users\n      socket.emit('drawing', drawData);\n\n      // Store locally\n      setDrawingData(prev => [...prev, drawData]);\n    }\n\n    lastPointRef.current = pos;\n  };\n\n  const handleTouchEnd = (e) => {\n    e.preventDefault();\n    setIsDrawing(false);\n    lastPointRef.current = null;\n  };\n\n  const handleClear = () => {\n    if (window.confirm('Are you sure you want to clear the whiteboard?')) {\n      clearCanvas();\n      setDrawingData([]);\n      socket.emit('clear-whiteboard');\n      showToast('Whiteboard cleared', 'info');\n    }\n  };\n\n  const handleExport = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const filename = generateTimestampedFilename(`whiteboard_${roomId}`, 'png');\n    const success = exportCanvasAsPNG(canvas, filename);\n\n    if (success) {\n      showToast('Whiteboard exported successfully!', 'success');\n    } else {\n      showToast('Failed to export whiteboard', 'error');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-white\">\n      {/* Toolbar */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\">\n        {/* Drawing tools */}\n        <div className=\"flex items-center space-x-4\">\n          {/* Tool selector */}\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => setCurrentTool('pen')}\n              className={`p-2 rounded-lg transition-colors ${currentTool === 'pen'\n                ? 'bg-primary-600 text-white'\n                : 'bg-white text-gray-600 hover:bg-gray-100'\n                }`}\n              title=\"Pen Tool\"\n            >\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Color picker */}\n          <div className=\"flex items-center space-x-1\">\n            {colors.map(color => (\n              <button\n                key={color}\n                onClick={() => setCurrentColor(color)}\n                className={`w-8 h-8 rounded-full border-2 transition-all ${currentColor === color\n                  ? 'border-gray-800 scale-110'\n                  : 'border-gray-300 hover:scale-105'\n                  }`}\n                style={{ backgroundColor: color }}\n                title={`Color: ${color}`}\n              />\n            ))}\n\n            {/* Custom color picker */}\n            <input\n              type=\"color\"\n              value={currentColor}\n              onChange={(e) => setCurrentColor(e.target.value)}\n              className=\"w-8 h-8 rounded-full border-2 border-gray-300 cursor-pointer\"\n              title=\"Custom Color\"\n            />\n          </div>\n\n          {/* Brush size */}\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm text-gray-600\">Size:</label>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"20\"\n              value={currentSize}\n              onChange={(e) => setCurrentSize(parseInt(e.target.value))}\n              className=\"w-20\"\n            />\n            <span className=\"text-sm text-gray-600 w-6\">{currentSize}</span>\n          </div>\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={handleExport}\n            className=\"btn-secondary flex items-center\"\n            title=\"Export as PNG\"\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>\n            Export\n          </button>\n\n          <button\n            onClick={handleClear}\n            className=\"btn-danger flex items-center\"\n            title=\"Clear whiteboard\"\n          >\n            <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n            Clear\n          </button>\n        </div>\n      </div>\n\n      {/* Canvas */}\n      <div className=\"flex-1 overflow-hidden canvas-container\">\n        <canvas\n          ref={canvasRef}\n          className=\"w-full h-full cursor-crosshair\"\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        />\n      </div>\n\n      {/* Instructions */}\n      <div className=\"p-2 bg-gray-50 border-t border-gray-200\">\n        <p className=\"text-xs text-gray-500 text-center\">\n          Click and drag to draw • Use toolbar to change colors and brush size • Changes are saved automatically\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Whiteboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}