{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport { SOCKET_URL } from '../config/api';\nconst SOCKET_OPTIONS = {\n  transports: ['websocket', 'polling'],\n  timeout: 20000,\n  forceNew: true,\n  reconnection: true,\n  reconnectionDelay: 1000,\n  reconnectionAttempts: 5,\n  maxReconnectionAttempts: 5\n};\nexport const useSocket = () => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    // Create socket connection\n    console.log('ðŸ”Œ Connecting to socket server:', SOCKET_URL);\n    const newSocket = io(SOCKET_URL, SOCKET_OPTIONS);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('âœ… Connected to server:', newSocket.id);\n    });\n    newSocket.on('disconnect', reason => {\n      console.log('âŒ Disconnected from server:', reason);\n    });\n    newSocket.on('connect_error', error => {\n      console.error('ðŸ”¥ Connection error:', error);\n    });\n    newSocket.on('reconnect', attemptNumber => {\n      console.log('ðŸ”„ Reconnected after', attemptNumber, 'attempts');\n    });\n    newSocket.on('reconnect_error', error => {\n      console.error('ðŸ”¥ Reconnection error:', error);\n    });\n    newSocket.on('reconnect_failed', () => {\n      console.error('ðŸ’€ Failed to reconnect to server');\n    });\n    setSocket(newSocket);\n\n    // Cleanup on unmount\n    return () => {\n      console.log('ðŸ§¹ Cleaning up socket connection');\n      newSocket.close();\n    };\n  }, []);\n  return socket;\n};\n_s(useSocket, \"NvwYO9vJOwIMt5STdlMKfWhuxZw=\");","map":{"version":3,"names":["useEffect","useState","io","SOCKET_URL","SOCKET_OPTIONS","transports","timeout","forceNew","reconnection","reconnectionDelay","reconnectionAttempts","maxReconnectionAttempts","useSocket","_s","socket","setSocket","console","log","newSocket","on","id","reason","error","attemptNumber","close"],"sources":["/Users/jitmisra/Desktop/CollabBoard/frontend/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport { SOCKET_URL } from '../config/api';\n\nconst SOCKET_OPTIONS = {\n  transports: ['websocket', 'polling'],\n  timeout: 20000,\n  forceNew: true,\n  reconnection: true,\n  reconnectionDelay: 1000,\n  reconnectionAttempts: 5,\n  maxReconnectionAttempts: 5\n};\n\nexport const useSocket = () => {\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    // Create socket connection\n    console.log('ðŸ”Œ Connecting to socket server:', SOCKET_URL);\n    const newSocket = io(SOCKET_URL, SOCKET_OPTIONS);\n\n    // Connection event handlers\n    newSocket.on('connect', () => {\n      console.log('âœ… Connected to server:', newSocket.id);\n    });\n\n    newSocket.on('disconnect', (reason) => {\n      console.log('âŒ Disconnected from server:', reason);\n    });\n\n    newSocket.on('connect_error', (error) => {\n      console.error('ðŸ”¥ Connection error:', error);\n    });\n\n    newSocket.on('reconnect', (attemptNumber) => {\n      console.log('ðŸ”„ Reconnected after', attemptNumber, 'attempts');\n    });\n\n    newSocket.on('reconnect_error', (error) => {\n      console.error('ðŸ”¥ Reconnection error:', error);\n    });\n\n    newSocket.on('reconnect_failed', () => {\n      console.error('ðŸ’€ Failed to reconnect to server');\n    });\n\n    setSocket(newSocket);\n\n    // Cleanup on unmount\n    return () => {\n      console.log('ðŸ§¹ Cleaning up socket connection');\n      newSocket.close();\n    };\n  }, []);\n\n  return socket;\n};"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,UAAU,QAAQ,eAAe;AAE1C,MAAMC,cAAc,GAAG;EACrBC,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;EACpCC,OAAO,EAAE,KAAK;EACdC,QAAQ,EAAE,IAAI;EACdC,YAAY,EAAE,IAAI;EAClBC,iBAAiB,EAAE,IAAI;EACvBC,oBAAoB,EAAE,CAAC;EACvBC,uBAAuB,EAAE;AAC3B,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd;IACAgB,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEd,UAAU,CAAC;IAC1D,MAAMe,SAAS,GAAGhB,EAAE,CAACC,UAAU,EAAEC,cAAc,CAAC;;IAEhD;IACAc,SAAS,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MAC5BH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,SAAS,CAACE,EAAE,CAAC;IACrD,CAAC,CAAC;IAEFF,SAAS,CAACC,EAAE,CAAC,YAAY,EAAGE,MAAM,IAAK;MACrCL,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEI,MAAM,CAAC;IACpD,CAAC,CAAC;IAEFH,SAAS,CAACC,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;MACvCN,OAAO,CAACM,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;IAEFJ,SAAS,CAACC,EAAE,CAAC,WAAW,EAAGI,aAAa,IAAK;MAC3CP,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEM,aAAa,EAAE,UAAU,CAAC;IAChE,CAAC,CAAC;IAEFL,SAAS,CAACC,EAAE,CAAC,iBAAiB,EAAGG,KAAK,IAAK;MACzCN,OAAO,CAACM,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;IAEFJ,SAAS,CAACC,EAAE,CAAC,kBAAkB,EAAE,MAAM;MACrCH,OAAO,CAACM,KAAK,CAAC,kCAAkC,CAAC;IACnD,CAAC,CAAC;IAEFP,SAAS,CAACG,SAAS,CAAC;;IAEpB;IACA,OAAO,MAAM;MACXF,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/CC,SAAS,CAACM,KAAK,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOV,MAAM;AACf,CAAC;AAACD,EAAA,CA3CWD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}